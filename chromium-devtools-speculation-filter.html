<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>From Origin Trial to DevTools Fix: Improving Speculation Rules Debugging - Helmut Januschka</title>
  <meta name="description" content="When youre testing a Chrome origin trial and the debugging tools dont cut it, you fix them">
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "From Origin Trial to DevTools Fix: Improving Speculation Rules Debugging",
    "description": "When youre testing a Chrome origin trial and the debugging tools dont cut it, you fix them",
    "author": {
      "@type": "Person",
      "name": "Helmut Januschka",
      "url": "https://januschka.com",
      "sameAs": [
        "https://github.com/hjanuschka",
        "https://twitter.com/hjanuschka",
        "https://linkedin.com/in/hjanuschka"
      ]
    },
    "publisher": {
      "@type": "Person",
      "name": "Helmut Januschka",
      "url": "https://januschka.com"
    },
    "datePublished": "2024-08-01",
    "dateModified": "2026-01-29",
    "image": "https://januschka.com/og-image.png",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://januschka.com/chromium-devtools-speculation-filter.html"
    },
    "keywords": "Chromium, TypeScript / DevTools, Chromium, Open Source, Browser Development",
    "articleSection": "Technology",
    "inLanguage": "en-US",
    "potentialAction": {
      "@type": "ReadAction",
      "target": "https://januschka.com/chromium-devtools-speculation-filter.html"
    }
  }
  </script>
  
  <!-- Open Graph -->
  <meta property="og:title" content="From Origin Trial to DevTools Fix: Improving Speculation Rules Debugging">
  <meta property="og:description" content="When youre testing a Chrome origin trial and the debugging tools dont cut it, you fix them">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://januschka.com/chromium-devtools-speculation-filter.html">
  <meta property="og:site_name" content="Helmut Januschka">
  <meta property="article:author" content="Helmut Januschka">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@hjanuschka">
  <meta name="twitter:title" content="From Origin Trial to DevTools Fix: Improving Speculation Rules Debugging">
  <meta name="twitter:description" content="When youre testing a Chrome origin trial and the debugging tools dont cut it, you fix them">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"></noscript>
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"></noscript>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg: #121212;
      --bg-light: #1e1e1e;
      --bg-lighter: #333333;
      --text: #bebebe;
      --text-dim: #8a8a8d;
      --accent: #FFC107;
      --accent-dim: #e68e0d;
      --border: #333333;
      --orange: #D35F5F;
    }

    /* GitHub Blue Theme */
    [data-theme="blue"] {
      --bg: #0d1117;
      --bg-light: #161b22;
      --bg-lighter: #21262d;
      --text: #ffffff;
      --text-dim: #7d8590;
      --accent: #58a6ff;
      --accent-dim: #1f6feb;
      --border: #30363d;
      --orange: #ff7b72;
    }

    /* Osaka Jade Theme (from Omarchy) */
    [data-theme="osaka-jade"] {
      --bg: #111c18;
      --bg-light: #23372B;
      --bg-lighter: #53685B;
      --text: #C1C497;
      --text-dim: #9eebb3;
      --accent: #2DD5B7;
      --accent-dim: #549e6a;
      --border: #509475;
      --orange: #FF5345;
    }

    /* Purple Moon Theme */
    [data-theme="purple-moon"] {
      --bg: #020007;
      --bg-light: #37277d;
      --bg-lighter: #643aad;
      --text: #ffffff;
      --text-dim: #b895dd;
      --accent: #9b49c8;
      --accent-dim: #9845c6;
      --border: #9865cf;
      --orange: #cd9ce1;
    }

    body {
      font-family: 'JetBrains Mono', monospace;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      font-size: 14px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Navigation */
    .nav {
      background: var(--bg-light);
      border-bottom: 3px solid var(--accent);
      padding: 15px 0;
    }

    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand {
      font-weight: bold;
      color: var(--accent);
      font-size: 16px;
    }

    .nav-links {
      display: flex;
      gap: 30px;
    }

    .nav-links a {
      color: var(--text);
      text-decoration: none;
      padding: 8px 16px;
      border: 2px solid transparent;
      border-radius: 6px;
      transition: all 0.3s ease;
    }

    .nav-links a:hover {
      border-color: var(--accent);
      background: var(--bg);
    }

    /* Theme Switcher */
    .theme-switcher {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .theme-dropdown {
      position: relative;
    }

    .theme-button {
      background: var(--bg-light);
      border: 2px solid var(--border);
      border-radius: 6px;
      color: var(--text);
      padding: 8px 12px;
      cursor: pointer;
      font-family: inherit;
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.3s ease;
    }

    .theme-button:hover {
      border-color: var(--accent);
      background: var(--bg);
    }

    .theme-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background: #1a1a1a;
      border: 2px solid #333333;
      border-radius: 8px;
      margin-top: 5px;
      min-width: 150px;
      z-index: 1000;
      display: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }

    .theme-menu.show {
      display: block;
      animation: fadeIn 0.2s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .theme-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      color: #ffffff;
      text-decoration: none;
      font-size: 12px;
      transition: background 0.2s ease;
      border: none;
      width: 100%;
      text-align: left;
      background: none;
      cursor: pointer;
      font-family: inherit;
    }

    .theme-option:hover {
      background: #2a2a2a;
      color: #ffffff;
    }

    .theme-option:first-child {
      border-radius: 6px 6px 0 0;
    }

    .theme-option:last-child {
      border-radius: 0 0 6px 6px;
    }

    .theme-preview {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 1px solid #666666;
      flex-shrink: 0;
    }

    /* Blog Post Styles */
    .blog-header {
      background: var(--bg-light);
      border-bottom: 3px solid var(--accent);
      padding: 40px 0;
      margin-bottom: 40px;
    }

    .blog-title {
      font-size: 32px;
      color: var(--accent);
      margin-bottom: 15px;
      line-height: 1.2;
    }

    .blog-meta {
      display: flex;
      gap: 20px;
      color: var(--text-dim);
      font-size: 13px;
    }

    .blog-content {
      background: var(--bg-light);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 40px;
      margin-bottom: 40px;
    }

    /* Markdown Content Styles */
    .blog-content h1 {
      color: var(--accent);
      font-size: 28px;
      margin: 30px 0 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--border);
    }

    .blog-content h2 {
      color: var(--orange);
      font-size: 24px;
      margin: 30px 0 15px;
    }

    .blog-content h3 {
      color: var(--accent);
      font-size: 20px;
      margin: 25px 0 15px;
    }

    .blog-content p {
      margin: 15px 0;
      line-height: 1.8;
      color: var(--text);
    }

    .blog-content a {
      color: var(--accent);
      text-decoration: none;
      border-bottom: 1px solid var(--accent);
      transition: all 0.3s ease;
    }

    .blog-content a:hover {
      color: var(--orange);
      border-bottom-color: var(--orange);
    }

    .blog-content ul, .blog-content ol {
      margin: 15px 0;
      padding-left: 30px;
    }

    .blog-content li {
      margin: 8px 0;
      line-height: 1.8;
    }

    .blog-content code {
      background: var(--bg);
      color: var(--accent);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
    }

    .blog-content pre {
      background: #1d1f21 !important;
      border: 2px solid var(--border);
      border-radius: 8px;
      padding: 20px !important;
      margin: 20px 0;
      overflow-x: auto;
    }

    .blog-content pre code {
      background: none !important;
      color: #c5c8c6 !important;
      padding: 0;
      text-shadow: none !important;
    }

    /* Override Prism theme colors for better integration */
    .token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata {
      color: #969896 !important;
    }

    .token.punctuation {
      color: #c5c8c6 !important;
    }

    .token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted {
      color: #cc6666 !important;
    }

    .token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted {
      color: #b5bd68 !important;
    }

    .token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string {
      color: #8abeb7 !important;
    }

    .token.atrule,
    .token.attr-value,
    .token.keyword {
      color: #b294bb !important;
    }

    .token.function,
    .token.class-name {
      color: #81a2be !important;
    }

    .token.regex,
    .token.important,
    .token.variable {
      color: #de935f !important;
    }

    .blog-content blockquote {
      border-left: 4px solid var(--accent);
      padding-left: 20px;
      margin: 20px 0;
      color: var(--text-dim);
      font-style: italic;
    }

    .blog-content em {
      color: var(--text-dim);
      font-style: italic;
    }

    .blog-content strong {
      color: var(--accent);
      font-weight: bold;
    }

    /* Table styles */
    .blog-content table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: var(--bg);
      border: 2px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
      display: block;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .blog-content thead,
    .blog-content tbody,
    .blog-content tr {
      display: table;
      width: 100%;
      table-layout: fixed;
    }

    .blog-content th {
      background: var(--bg-lighter);
      color: var(--accent);
      padding: 12px 16px;
      text-align: left;
      font-weight: bold;
      border-bottom: 2px solid var(--border);
    }

    .blog-content td {
      padding: 10px 16px;
      border-bottom: 1px solid var(--border);
      color: var(--text);
    }

    .blog-content tr:last-child td {
      border-bottom: none;
    }

    .blog-content tr:hover {
      background: var(--bg-light);
    }

    /* Mobile table responsiveness */
    @media (max-width: 768px) {
      .blog-content table {
        font-size: 11px;
        border: none;
      }

      .blog-content thead {
        display: none;
      }

      .blog-content tbody,
      .blog-content tr {
        display: block;
        width: 100%;
      }

      .blog-content tr {
        margin-bottom: 15px;
        border: 2px solid var(--border);
        border-radius: 8px;
        padding: 10px;
        background: var(--bg);
      }

      .blog-content td {
        display: block;
        text-align: left;
        padding: 8px 0;
        border: none;
        position: relative;
        padding-left: 40%;
      }

      .blog-content td:before {
        content: attr(data-label);
        position: absolute;
        left: 0;
        width: 38%;
        padding-right: 10px;
        font-weight: bold;
        color: var(--accent);
        text-align: left;
      }

      /* First column (Image name) */
      .blog-content td:nth-of-type(1):before {
        content: "Image";
      }

      /* Second column (Size) */
      .blog-content td:nth-of-type(2):before {
        content: "Size";
      }

      /* Third column (Before) */
      .blog-content td:nth-of-type(3):before {
        content: "Before";
      }

      /* Fourth column (After) */
      .blog-content td:nth-of-type(4):before {
        content: "After";
      }

      /* Fifth column (C++) */
      .blog-content td:nth-of-type(5):before {
        content: "C++";
      }

      /* Sixth column (Speedup) */
      .blog-content td:nth-of-type(6):before {
        content: "Speedup";
      }
    }

    /* Snippet blocks for inline HTML */
    .snippet-block {
      margin: 20px 0;
      text-align: center;
    }

    .snippet-block img {
      max-width: 100%;
      height: auto;
      border: 2px solid var(--border);
      border-radius: 8px;
    }

    /* YouTube embed container */
    .youtube-embed {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      height: 0;
      overflow: hidden;
      max-width: 100%;
      margin: 30px 0;
      border: 2px solid var(--border);
      border-radius: 8px;
    }

    .youtube-embed iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* Gravatar in nav */
    .gravatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid var(--accent);
      margin-right: 10px;
      vertical-align: middle;
    }

    /* Status indicator */
    .status {
      display: inline-block;
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      margin-right: 8px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    /* Footer */
    .footer {
      background: var(--bg-light);
      border-top: 3px solid var(--accent);
      padding: 30px 0;
      margin-top: 60px;
      text-align: center;
    }

    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--text-dim);
    }

    .badge {
      background: var(--bg-lighter);
      color: var(--text);
      padding: 4px 10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      font-size: 11px;
    }

    /* Command Palette */
    .command-palette {
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding-top: 15vh;
    }
    .command-palette.hidden { display: none; }
    .command-palette-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
    }
    .command-palette-modal {
      position: relative;
      width: 100%;
      max-width: 560px;
      margin: 0 20px;
      background: var(--bg-light);
      border: 2px solid var(--accent);
      border-radius: 12px;
      box-shadow: 0 0 40px rgba(0, 0, 0, 0.5), 0 0 20px var(--accent);
      overflow: hidden;
    }
    .command-palette-header {
      display: flex;
      align-items: center;
      padding: 16px;
      border-bottom: 1px solid var(--border);
      gap: 12px;
    }
    .command-palette-header .prompt {
      color: var(--accent);
      font-weight: bold;
    }
    .command-palette-header input {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: var(--text);
      font-family: inherit;
      font-size: 16px;
    }
    .command-palette-header input::placeholder { color: var(--text-dim); }
    .command-palette-header kbd {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 4px 8px;
      font-size: 11px;
      color: var(--text-dim);
    }
    .command-results {
      list-style: none;
      max-height: 320px;
      overflow-y: auto;
      margin: 0;
      padding: 8px;
    }
    .command-result {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.15s ease;
    }
    .command-result:hover, .command-result.selected {
      background: var(--bg-lighter);
    }
    .command-result .icon { font-size: 16px; }
    .command-result .name { flex: 1; color: var(--text); }
    .command-palette-footer {
      display: flex;
      gap: 20px;
      padding: 12px 16px;
      border-top: 1px solid var(--border);
      font-size: 11px;
      color: var(--text-dim);
    }
    .command-palette-footer kbd {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 3px;
      padding: 2px 5px;
      margin-right: 4px;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .blog-title {
        font-size: 24px;
      }
      
      .nav-content {
        flex-direction: column;
        gap: 20px;
      }
      
      .nav-content > div {
        flex-direction: column;
        gap: 15px;
      }
      
      .nav-links {
        gap: 15px;
      }
      
      .theme-switcher {
        justify-content: center;
      }
      
      .blog-content {
        padding: 20px;
      }
      
      .footer-content {
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav">
    <div class="container">
      <div class="nav-content">
        <div class="nav-brand">
          <img src="https://gravatar.com/avatar/7f3d8f25d208327860bdfebf145e481b?s=64"
               alt="Helmut Januschka"
               class="gravatar"
               width="32" height="32">
          <span class="status"></span>
          hjanuschka@world
        </div>
        <div style="display: flex; align-items: center; gap: 30px;">
          <div class="nav-links">
            <a href="/">‚Üê Back to Home</a>
            <a href="/#projects">Projects</a>
            <a href="/#contact">Contact</a>
          </div>
          <div class="theme-switcher">
            <div class="theme-dropdown">
              <button class="theme-button" id="themeButton">
                <span class="theme-preview" style="background: var(--accent);"></span>
                Themes ‚ñº
              </button>
              <div class="theme-menu" id="themeMenu">
                <button class="theme-option" data-theme="matte-black">
                  <span class="theme-preview" style="background: #FFC107;"></span>
                  Matte Black
                </button>
                <button class="theme-option" data-theme="osaka-jade">
                  <span class="theme-preview" style="background: #2DD5B7;"></span>
                  Osaka Jade
                </button>
                <button class="theme-option" data-theme="purple-moon">
                  <span class="theme-preview" style="background: #9b49c8;"></span>
                  Purple Moon
                </button>
                <button class="theme-option" data-theme="blue">
                  <span class="theme-preview" style="background: #58a6ff;"></span>
                  GitHub Blue
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Blog Header -->
  <div class="blog-header">
    <div class="container">
      <h1 class="blog-title">From Origin Trial to DevTools Fix: Improving Speculation Rules Debugging</h1>
      <div class="blog-meta">
        <span>‚ö° Chromium</span>
        <span>üîß TypeScript / DevTools</span>
        <span>üë§ Helmut Januschka</span>
      </div>
    </div>
  </div>

  <!-- Blog Content -->
  <article class="container">
    <div class="blog-content">
<p><em>When you&#39;re testing a Chrome origin trial and the debugging tools don&#39;t cut it, you fix them</em></p>
<p><strong>Status:</strong> üöß In Review</p>
<h2>The Context: Prerender Until Script at krone.at</h2>
<p>At <a href="https://krone.at">krone.at</a>, Austria&#39;s largest news website, we&#39;re always looking for ways to make our site faster. With millions of daily pageviews and readers constantly jumping between articles, navigation speed directly impacts user experience.</p>
<p>When Google announced the <a href="https://developer.chrome.com/blog/prerender-until-script-origin-trial?hl=de">&quot;Prerender Until Script&quot; origin trial</a>, we jumped on it immediately.</p>
<p>The idea is powerful: prerender pages speculatively, but pause before executing JavaScript. This gives you the performance benefits of prerendering (instant page loads!) without the complexity of handling script side effects during speculation. When the user actually navigates, scripts run normally.</p>
<p>For a high-traffic news site like krone.at with thousands of article links, this is huge. We can prerender article pages as users browse the homepage or section pages, making navigation feel instant.</p>
<h2>The Problem: DevTools Debugging Was Painful</h2>
<p>As we started implementing speculation rules for krone.at, I ran into a frustrating UX issue. The Speculation Rules panel in Chrome DevTools (Application ‚Üí Speculative loads) shows all your prefetch and prerender attempts. Great in theory.</p>
<p>But on a real site with many speculation rules, finding specific entries becomes a nightmare:</p>
<ul>
<li><strong>No filtering</strong> - just a long list of URLs</li>
<li><strong>No search</strong> - want to find all failed attempts? Scroll through everything</li>
<li><strong>No way to focus</strong> - debugging a specific route means visual scanning</li>
</ul>
<p>When you&#39;re trying to debug why <code>/artikel/12345</code> isn&#39;t prerendering correctly, scrolling through hundreds of entries isn&#39;t fun.</p>
<h2>The Fix: Text Filter for Speculation Rules Panel</h2>
<p>I reached out to <a href="https://github.com/tunetheweb">Barry Pollard</a> (author of the origin trial blog post and a Chrome performance hero) who helped shape the approach. The result: a proper text filter for the Speculations panel.</p>
<p><strong>Bug</strong>: <a href="https://issues.chromium.org/issues/479524246">479524246</a><br><strong>CL</strong>: <span style="background: #3b82f6; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: bold;">IN REVIEW</span> <a href="https://chromium-review.googlesource.com/c/devtools/devtools-frontend/+/7520087"><strong>Add text filter to Speculation Rules panel</strong></a></p>
<h2>Why This Matters</h2>
<p>Speculation Rules are the future of web performance. With features like:</p>
<ul>
<li><strong>Prefetch</strong> - fetch resources ahead of time</li>
<li><strong>Prerender</strong> - render entire pages speculatively</li>
<li><strong>Prerender Until Script</strong> - the new origin trial we&#39;re testing at krone.at</li>
</ul>
<p>Good debugging tools are essential. When you&#39;re implementing these features on a production site like krone.at, you need to:</p>
<ul>
<li>See which URLs are being prerendered</li>
<li>Debug failures quickly</li>
<li>Filter to specific routes or statuses</li>
<li>Verify your speculation rules work across different article types and sections</li>
</ul>
<p>This small DevTools improvement makes that workflow much better. What started as a pain point while implementing speculation rules for krone.at became a contribution that will help every developer working with this technology.</p>
<h2>The Collaboration</h2>
<p>This is a great example of how the Chrome team supports external contributors. Barry helped validate the approach and ensure the UI patterns matched DevTools conventions. The feature went from idea to implementation in days, not months.</p>
<p>When you&#39;re testing a Chrome origin trial and find rough edges in the tooling, file a bug, propose a fix. The team is receptive.</p>
<h2>Current Status</h2>
<p>The CL is in review. Once merged, this will ship with Chrome DevTools, available to everyone debugging speculation rules.</p>
<h2>Try It</h2>
<p>If you&#39;re interested in speculative prerendering:</p>
<ol>
<li>Read the <a href="https://developer.chrome.com/blog/prerender-until-script-origin-trial?hl=de">Prerender Until Script blog post</a></li>
<li>Check out the <a href="https://developer.chrome.com/docs/devtools/application/debugging-speculation-rules">Speculation Rules documentation</a></li>
<li>Sign up for the origin trial if you want to test the new features</li>
</ol>
<p>And once this CL lands, you&#39;ll have better filtering to debug your implementation!</p>
<hr>
<p><strong>Links:</strong></p>
<ul>
<li><a href="https://issues.chromium.org/issues/479524246">Chromium Bug 479524246</a></li>
<li><span style="background: #3b82f6; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: bold;">IN REVIEW</span> <a href="https://chromium-review.googlesource.com/c/devtools/devtools-frontend/+/7520087"><strong>Add text filter to Speculation Rules panel</strong></a></li>
<li><a href="https://developer.chrome.com/blog/prerender-until-script-origin-trial?hl=de">Prerender Until Script Origin Trial</a></li>
<li><a href="https://developer.chrome.com/docs/devtools/application/debugging-speculation-rules">Debugging Speculation Rules in DevTools</a></li>
<li><a href="https://github.com/tunetheweb">Barry Pollard on GitHub</a></li>
</ul>
    </div>
  </article>

  <!-- Command Palette -->
  <div id="commandPalette" class="command-palette hidden">
    <div class="command-palette-backdrop"></div>
    <div class="command-palette-modal">
      <div class="command-palette-header">
        <span class="prompt">‚ùØ</span>
        <input type="text" id="commandInput" placeholder="Type a command..." autocomplete="off">
        <kbd>ESC</kbd>
      </div>
      <ul id="commandResults" class="command-results"></ul>
      <div class="command-palette-footer">
        <span><kbd>‚Üë</kbd><kbd>‚Üì</kbd> navigate</span>
        <span><kbd>‚Üµ</kbd> select</span>
        <span><kbd>esc</kbd> close</span>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <span>¬© 2025 Helmut Januschka</span>
        <span class="badge">Powered by marked.js + Terminal Vibes</span>
      </div>
    </div>
  </footer>

  <script>
    // Theme switcher functionality
    const themeButton = document.getElementById('themeButton');
    const themeMenu = document.getElementById('themeMenu');
    const themeOptions = document.querySelectorAll('.theme-option');

    // Toggle theme menu
    themeButton.addEventListener('click', function() {
      themeMenu.classList.toggle('show');
    });

    // Close theme menu when clicking outside
    document.addEventListener('click', function(e) {
      if (!themeButton.contains(e.target) && !themeMenu.contains(e.target)) {
        themeMenu.classList.remove('show');
      }
    });

    // Theme selection
    themeOptions.forEach(option => {
      option.addEventListener('click', function() {
        const theme = this.getAttribute('data-theme');

        if (theme === 'matte-black') {
          document.documentElement.removeAttribute('data-theme');
        } else {
          document.documentElement.setAttribute('data-theme', theme);
        }

        // Save theme preference
        localStorage.setItem('theme', theme);

        // Close menu
        themeMenu.classList.remove('show');
      });
    });

    // Load saved theme
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme && savedTheme !== 'matte-black') {
      document.documentElement.setAttribute('data-theme', savedTheme);
    }

    // Command Palette
    const palette = document.getElementById('commandPalette');
    const paletteInput = document.getElementById('commandInput');
    const paletteResults = document.getElementById('commandResults');
    let selectedIndex = 0;

    const commands = [
      { icon: 'üè†', name: 'Go to Home', keywords: ['home', 'top', 'start'], action: () => window.location.href = '/' },
      { icon: 'üë§', name: 'Go to About', keywords: ['about', 'bio', 'me'], action: () => window.location.href = '/#about' },
      { icon: 'üíº', name: 'Go to Experience', keywords: ['experience', 'work', 'career'], action: () => window.location.href = '/#experience' },
      { icon: 'üöÄ', name: 'Go to Projects', keywords: ['projects', 'code', 'github'], action: () => window.location.href = '/#projects' },
      { icon: 'üìù', name: 'Go to Blog', keywords: ['blog', 'posts', 'articles'], action: () => window.location.href = '/#blog' },
      { icon: 'üìß', name: 'Go to Contact', keywords: ['contact', 'email', 'reach'], action: () => window.location.href = '/#contact' },
      { icon: 'üé®', name: 'Theme: Matte Black', keywords: ['theme', 'matte', 'black', 'dark'], action: () => { document.documentElement.removeAttribute('data-theme'); localStorage.setItem('theme', 'matte-black'); } },
      { icon: 'üåø', name: 'Theme: Osaka Jade', keywords: ['theme', 'osaka', 'jade', 'green'], action: () => { document.documentElement.setAttribute('data-theme', 'osaka-jade'); localStorage.setItem('theme', 'osaka-jade'); } },
      { icon: 'üåô', name: 'Theme: Purple Moon', keywords: ['theme', 'purple', 'moon'], action: () => { document.documentElement.setAttribute('data-theme', 'purple-moon'); localStorage.setItem('theme', 'purple-moon'); } },
      { icon: 'üíô', name: 'Theme: GitHub Blue', keywords: ['theme', 'github', 'blue'], action: () => { document.documentElement.setAttribute('data-theme', 'blue'); localStorage.setItem('theme', 'blue'); } },
      { icon: 'üìã', name: 'Copy Email', keywords: ['copy', 'email', 'clipboard'], action: () => { navigator.clipboard.writeText('helmut@januschka.com'); } },
      { icon: 'üêô', name: 'Open GitHub', keywords: ['github', 'code', 'repos'], action: () => window.open('https://github.com/hjanuschka', '_blank') },
      { icon: 'üê¶', name: 'Open Twitter/X', keywords: ['twitter', 'x', 'social'], action: () => window.open('https://twitter.com/hjanuschka', '_blank') },
      { icon: 'üíº', name: 'Open LinkedIn', keywords: ['linkedin', 'professional'], action: () => window.open('https://linkedin.com/in/hjanuschka', '_blank') },
      { icon: 'üìÑ', name: 'Blog: 2025 Chromium Wrap-Up', keywords: ['blog', '2025', 'chromium', 'owner', 'wrap'], action: () => window.location.href = '/2025-chromium-contributions.html' },
      { icon: 'üìÑ', name: 'Blog: JPEG XL Returns to Chrome', keywords: ['blog', 'jxl', 'jpeg', 'xl', 'rust'], action: () => window.location.href = '/chromium-jxl-resurrection.html' },
      { icon: 'üìÑ', name: 'Blog: Tab Focus Feature', keywords: ['blog', 'tab', 'focus', 'tobi'], action: () => window.location.href = '/chromium-focus-feature.html' },
      { icon: 'üìÑ', name: 'Blog: Dynamic Chrome Themes', keywords: ['blog', 'omarchy', 'theme', 'dhh'], action: () => window.location.href = '/chromium-omarchy.html' },
      { icon: 'üìÑ', name: 'Blog: Wayland Crash Debugging', keywords: ['blog', 'wayland', 'crash', 'debug'], action: () => window.location.href = '/chromium-wayland-crash.html' },
      { icon: 'üìÑ', name: 'Blog: Pi Coding Agent', keywords: ['blog', 'pi', 'agent', 'terminal', 'mario', 'badlogic'], action: () => window.location.href = '/pi-coding-agent.html' },
    ];

    function openPalette() {
      palette.classList.remove('hidden');
      paletteInput.value = '';
      selectedIndex = 0;
      renderResults(commands);
      setTimeout(() => paletteInput.focus(), 10);
    }

    function closePalette() {
      palette.classList.add('hidden');
      paletteInput.value = '';
    }

    function filterCommands(query) {
      if (!query) return commands;
      const q = query.toLowerCase();
      return commands.filter(cmd =>
        cmd.name.toLowerCase().includes(q) ||
        cmd.keywords.some(k => k.includes(q))
      );
    }

    function renderResults(results) {
      paletteResults.innerHTML = results.map((cmd, i) =>
        '<li class="command-result' + (i === selectedIndex ? ' selected' : '') + '" data-index="' + i + '">' +
          '<span class="icon">' + cmd.icon + '</span>' +
          '<span class="name">' + cmd.name + '</span>' +
        '</li>'
      ).join('');
    }

    function executeCommand(results) {
      if (results[selectedIndex]) {
        results[selectedIndex].action();
        closePalette();
      }
    }

    document.addEventListener('keydown', function(e) {
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        openPalette();
      }
      if (e.key === 'Escape' && !palette.classList.contains('hidden')) {
        closePalette();
      }
    });

    paletteInput.addEventListener('input', function() {
      const results = filterCommands(this.value);
      selectedIndex = 0;
      renderResults(results);
    });

    paletteInput.addEventListener('keydown', function(e) {
      const results = filterCommands(this.value);
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        selectedIndex = Math.min(selectedIndex + 1, results.length - 1);
        renderResults(results);
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        selectedIndex = Math.max(selectedIndex - 1, 0);
        renderResults(results);
      } else if (e.key === 'Enter') {
        e.preventDefault();
        executeCommand(results);
      }
    });

    paletteResults.addEventListener('click', function(e) {
      const item = e.target.closest('.command-result');
      if (item) {
        selectedIndex = parseInt(item.dataset.index);
        executeCommand(filterCommands(paletteInput.value));
      }
    });

    palette.querySelector('.command-palette-backdrop').addEventListener('click', closePalette);

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  </script>
  
  <!-- Prism.js for syntax highlighting -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script>
    // Highlight all code blocks
    Prism.highlightAll();
  </script>
</body>
</html>
